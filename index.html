<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Evolution Clicker</title>
    <link rel="stylesheet" href="styles/main.css">
    
    <!-- Иконки для всех платформ -->
    <link rel="apple-touch-icon" sizes="180x180" href="icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="icons/favicon-16x16.png">
    <link rel="manifest" href="icons/manifest.json">
    <link rel="shortcut icon" href="icons/favicon.ico">
    <link rel="icon" type="image/svg+xml" href="icons/favicon.svg">
    <meta name="theme-color" content="#4caf50">
</head>
<body class="dark-theme">
    <div class="top-controls">
        <div class="game-title">
            <h1>Evolution Clicker</h1>
        </div>
        <!-- Кнопка бургер-меню для мобильных устройств -->
        <button id="mobile-menu-toggle" class="mobile-menu-toggle">
            <span class="burger-line"></span>
            <span class="burger-line"></span>
            <span class="burger-line"></span>
        </button>
            <div class="header-controls">
            <button id="achievements-button" class="achievements-button" title="Достижения">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="8" r="7"></circle><polyline points="8.21 13.89 7 23 12 20 17 23 15.79 13.88"></polyline></svg>
            </button>
            <button id="settings-button" class="settings-button" title="Настройки">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="3"></circle><path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"></path></svg>
            </button>
        </div>
        
        <!-- Меню настроек для ПК -->
        <div id="desktop-settings-menu" class="desktop-settings-menu hidden">
            <div class="desktop-menu-content">
                <button id="desktop-theme-toggle" class="desktop-menu-item">
                    <span class="desktop-icon">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"></circle><line x1="12" y1="1" x2="12" y2="3"></line><line x1="12" y1="21" x2="12" y2="23"></line><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line><line x1="1" y1="12" x2="3" y2="12"></line><line x1="21" y1="12" x2="23" y2="12"></line><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line></svg>
                    </span>
                    <span class="desktop-item-text">Сменить тему</span>
                </button>
                <button id="desktop-language-toggle" class="desktop-menu-item">
                    <span class="desktop-icon">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"></circle><line x1="2" y1="12" x2="22" y2="12"></line><path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"></path></svg>
                    </span>
                    <span class="desktop-item-text">Сменить язык (RU)</span>
                </button>
                <button id="desktop-sound-toggle" class="desktop-menu-item">
                    <span class="desktop-icon">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"></polygon><path d="M15.54 8.46a5 5 0 0 1 0 7.07"></path><path d="M19.07 4.93a10 10 0 0 1 0 14.14"></path></svg>
                    </span>
                    <span class="desktop-item-text">Звук</span>
                </button>
                <button id="desktop-reset" class="desktop-menu-item">
                    <span class="desktop-icon">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21.5 2v6h-6M2.5 22v-6h6M2 11.5a10 10 0 0 1 18.8-4.3M22 12.5a10 10 0 0 1-18.8 4.2"></path></svg>
                    </span>
                    <span class="desktop-item-text">Сбросить прогресс</span>
                </button>
            </div>
        </div>
        <!-- Мобильное меню -->
        <div id="mobile-menu" class="mobile-menu hidden">
            <div class="mobile-menu-content">
                <button id="mobile-theme-toggle" class="mobile-menu-item">
                    <span class="mobile-icon">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"></circle><line x1="12" y1="1" x2="12" y2="3"></line><line x1="12" y1="21" x2="12" y2="23"></line><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line><line x1="1" y1="12" x2="3" y2="12"></line><line x1="21" y1="12" x2="23" y2="12"></line><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line></svg>
                    </span>
                    <span class="mobile-item-text">Сменить тему</span>
                </button>
                <button id="mobile-language-toggle" class="mobile-menu-item">
                    <span class="mobile-icon">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"></circle><line x1="2" y1="12" x2="22" y2="12"></line><path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"></path></svg>
                    </span>
                    <span class="mobile-item-text">Сменить язык (RU)</span>
                </button>
                <button id="mobile-achievements" class="mobile-menu-item">
                    <span class="mobile-icon">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="8" r="7"></circle><polyline points="8.21 13.89 7 23 12 20 17 23 15.79 13.88"></polyline></svg>
                    </span>
                    <span class="mobile-item-text">Достижения</span>
                </button>
                <button id="mobile-sound-toggle" class="mobile-menu-item">
                    <span class="mobile-icon">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"></polygon><path d="M15.54 8.46a5 5 0 0 1 0 7.07"></path><path d="M19.07 4.93a10 10 0 0 1 0 14.14"></path></svg>
                    </span>
                    <span class="mobile-item-text">Звук</span>
                </button>
                <button id="mobile-reset" class="mobile-menu-item">
                    <span class="mobile-icon">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21.5 2v6h-6M2.5 22v-6h6M2 11.5a10 10 0 0 1 18.8-4.3M22 12.5a10 10 0 0 1-18.8 4.2"></path></svg>
                    </span>
                    <span class="mobile-item-text">Сбросить прогресс</span>
                </button>
                <div class="mobile-menu-separator"></div>
                <button id="mobile-zoom-in" class="mobile-menu-item">
                    <span class="mobile-icon">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line><line x1="11" y1="8" x2="11" y2="14"></line><line x1="8" y1="11" x2="14" y2="11"></line></svg>
                    </span>
                    <span class="mobile-item-text">Приблизить</span>
                </button>
                <button id="mobile-zoom-out" class="mobile-menu-item">
                    <span class="mobile-icon">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line><line x1="8" y1="11" x2="14" y2="11"></line></svg>
                    </span>
                    <span class="mobile-item-text">Отдалить</span>
                </button>
            </div>
        </div>
    </div>
    <div class="game-container">
        <div class="stats-panel">
            <div class="stat">
                <span class="stat-label">Очки эволюции:</span>
                <span id="points" class="stat-value">0</span>
                <span class="stat-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M20.42 4.58a5.4 5.4 0 0 0-7.65 0l-.77.78-.77-.78a5.4 5.4 0 0 0-7.65 0C1.46 6.7 1.33 10.28 4 13l8 8 8-8c2.67-2.72 2.54-6.3.42-8.42z"></path></svg>
                </span>
            </div>
            <div class="stat">
                <span class="stat-label">За клик:</span>
                <span id="per-click" class="stat-value">1</span>
                <span class="stat-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 15l5 5M7 10V5a3 3 0 0 1 6 0v5a3 3 0 0 1-6 0z"></path><path d="M9 5 4 5"></path><path d="M12 15l6 6"></path><path d="M15 10v4"></path></svg>
                </span>
            </div>
            <div class="stat">
                <span class="stat-label">В секунду:</span>
                <span id="per-second" class="stat-value">0</span>
                <span class="stat-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline></svg>
                </span>
            </div>
        </div>

        <div class="main-area">
            <button id="main-button" class="main-button">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="evolution-icon"><path d="M18.901 1.153a.75.75 0 00-.902 0l-2.25 1.5a.75.75 0 00-.295.863c.096.29.122.604.07.905a4.001 4.001 0 01-3.123 3.123.715.715 0 00-.907-.067.75.75 0 00-.862.296l-1.5 2.25a.75.75 0 000 .902l1.5 2.25c.22.33.642.365.95.28l.093-.043c.283-.129.582-.206.884-.22a4.001 4.001 0 013.123 3.123c-.077.301-.001.602.12.864a.75.75 0 00.863.296l2.25-1.5a.75.75 0 00.364-.65V1.803a.75.75 0 00-.364-.65z" fill="currentColor"></path><path d="M5.099 1.153a.75.75 0 00-.902 0l-2.25 1.5a.75.75 0 00-.295.863c.096.29.122.604.07.905a4.001 4.001 0 01-3.123 3.123.715.715 0 00-.907-.067.75.75 0 00-.862.296l-1.5 2.25a.75.75 0 000 .902l1.5 2.25c.22.33.642.365.95.28l.093-.043c.283-.129.582-.206.884-.22a4.001 4.001 0 013.123 3.123c-.077.301-.001.602.12.864a.75.75 0 00.863.296l2.25-1.5a.75.75 0 00.364-.65V1.803a.75.75 0 00-.364-.65z" fill="currentColor" opacity="0.4" transform="translate(15, 12)"></path></svg>
                <span>Эволюция</span>
            </button>
        </div>

        <div class="tree-container">
            <!-- Добавляем навигацию по дереву -->
            <div class="tree-navigation">
                <div class="tree-nav-tabs">
                    <div class="tree-nav-tab active" data-stage="all">Все</div>
                    <div class="tree-nav-tab" data-stage="cosmos">Космос</div>
                    <div class="tree-nav-tab" data-stage="life">Жизнь</div>
                    <div class="tree-nav-tab" data-stage="intellect">Интеллект</div>
                </div>
                <div class="tree-search-container">
                    <input type="text" class="tree-search" id="research-search" placeholder="Поиск исследований...">
                    <div class="search-results" id="search-results"></div>
                </div>
            </div>
            
            <div id="research-tree" class="research-tree">
                <!-- Дерево исследований будет заполнено динамически -->
            </div>
            
            <!-- Добавляем управление зумом -->
            <div class="tree-zoom-controls">
                <button id="zoom-in" title="Приблизить">
                    <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line><line x1="11" y1="8" x2="11" y2="14"></line><line x1="8" y1="11" x2="14" y2="11"></line></svg>
                </button>
                <button id="zoom-reset" title="Сбросить масштаб">
                    <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"></path><path d="M3 3v5h5"></path></svg>
                </button>
                <button id="zoom-out" title="Отдалить">
                    <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line><line x1="8" y1="11" x2="14" y2="11"></line></svg>
                </button>
            </div>
        </div>

        <div id="notification" class="notification hidden">
            <div class="notification-content">
                <span id="notification-message"></span>
            </div>
        </div>

        <!-- Мобильная версия кнопки клика -->
        <button id="mobile-main-button" class="mobile-main-button">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="evolution-icon"><path d="M18.901 1.153a.75.75 0 00-.902 0l-2.25 1.5a.75.75 0 00-.295.863c.096.29.122.604.07.905a4.001 4.001 0 01-3.123 3.123.715.715 0 00-.907-.067.75.75 0 00-.862.296l-1.5 2.25a.75.75 0 000 .902l1.5 2.25c.22.33.642.365.95.28l.093-.043c.283-.129.582-.206.884-.22a4.001 4.001 0 013.123 3.123c-.077.301-.001.602.12.864a.75.75 0 00.863.296l2.25-1.5a.75.75 0 00.364-.65V1.803a.75.75 0 00-.364-.65z" fill="currentColor"></path><path d="M5.099 1.153a.75.75 0 00-.902 0l-2.25 1.5a.75.75 0 00-.295.863c.096.29.122.604.07.905a4.001 4.001 0 01-3.123 3.123.715.715 0 00-.907-.067.75.75 0 00-.862.296l-1.5 2.25a.75.75 0 000 .902l1.5 2.25c.22.33.642.365.95.28l.093-.043c.283-.129.582-.206.884-.22a4.001 4.001 0 013.123 3.123c-.077.301-.001.602.12.864a.75.75 0 00.863.296l2.25-1.5a.75.75 0 00.364-.65V1.803a.75.75 0 00-.364-.65z" fill="currentColor" opacity="0.4" transform="translate(15, 12)"></path></svg>
        </button>

        <div id="confirm-modal" class="modal hidden">
            <div class="modal-content">
                <h2>Подтверждение</h2>
                <p id="confirm-message">Вы уверены, что хотите сбросить весь прогресс?</p>
                <div class="modal-buttons">
                    <button id="confirm-yes">Да</button>
                    <button id="confirm-no">Нет</button>
                </div>
            </div>
        </div>
        
        <!-- Модальное окно для отображения достижений -->
        <div id="achievements-modal" class="modal hidden">
            <div class="modal-content achievements-modal-content">
                <div class="modal-header">
                    <h2>Достижения</h2>
                    <button id="close-achievements" class="close-modal">&times;</button>
                </div>
                <div id="achievements-list" class="achievements-list">
                    <!-- Достижения будут добавлены динамически -->
                </div>
            </div>
        </div>
    </div>
    
    <!-- Подвал сайта с информацией об игре -->
    <footer class="game-footer">
        <div class="footer-content">
            <div class="footer-description">
                <h3>О Evolution Clicker</h3>
                <p>Эволюционный кликер, который проведет вас от Большого Взрыва до современной цивилизации. Развивайте исследования и открывайте новые этапы эволюции путем накопления очков.</p>
            </div>
            <div class="footer-stats">
                <div class="footer-stat-group">
                    <div class="footer-stat">
                        <span class="footer-stat-label">Время игры:</span>
                        <span id="play-time" class="footer-stat-value">00:00:00</span>
                    </div>
                    <div class="footer-stat">
                        <span class="footer-stat-label">Начало сеанса:</span>
                        <span id="session-start" class="footer-stat-value">--.--.---- --:--</span>
                    </div>
                </div>
                <div class="footer-stat-group">
                    <div class="footer-stat">
                        <span class="footer-stat-label">Разблокировано достижений:</span>
                        <span id="achievements-count" class="footer-stat-value">0/0</span>
                    </div>
                    <div class="footer-stat">
                        <span class="footer-stat-label">Потрачено очков:</span>
                        <span id="points-spent" class="footer-stat-value">0</span>
                    </div>
                </div>
                <div class="footer-stat-group">
                    <div class="footer-stat">
                        <span class="footer-stat-label">Открыто исследований:</span>
                        <span id="research-count" class="footer-stat-value">0/0</span>
                    </div>
                    <div class="footer-stat">
                        <span class="footer-stat-label">Общий прогресс:</span>
                        <span id="total-progress" class="footer-stat-value">0%</span>
                    </div>
                </div>
            </div>
        </div>
        <div class="footer-copyright">
            &copy; 2025 Evolution Clicker <span id="version-display">v0.45</span>
        </div>
    </footer>

    <!-- Скрипты -->
    <script src="scripts/data.js"></script>
    <script src="scripts/storage.js"></script>
    <script src="scripts/tree.js"></script>
    <script src="scripts/achievements.js"></script>
    <script src="scripts/sound.js"></script>
    <script src="scripts/main.js"></script>
</body>
</html> 